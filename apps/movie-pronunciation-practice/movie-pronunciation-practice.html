<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜ ç”»ã‚»ãƒªãƒ•ã§è‹±èªç™ºéŸ³ç·´ç¿’</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 800px;
            width: 100%;
            padding: 40px;
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 0.9em;
        }

        .movie-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .movie-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .movie-icon {
            font-size: 1.5em;
        }

        .quote-text {
            font-size: 1.3em;
            color: #444;
            line-height: 1.6;
            margin-bottom: 10px;
            font-style: italic;
            padding: 15px;
            background: white;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .translation {
            font-size: 0.95em;
            color: #666;
            margin-bottom: 20px;
            padding-left: 19px;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        button {
            flex: 1;
            min-width: 120px;
            padding: 15px 25px;
            font-size: 1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-listen {
            background: #667eea;
            color: white;
        }

        .btn-listen:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-record {
            background: #f093fb;
            color: white;
        }

        .btn-record:hover {
            background: #e085e8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(240, 147, 251, 0.4);
        }

        .btn-record.recording {
            background: #ff6b6b;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .btn-next {
            background: #4facfe;
            color: white;
        }

        .btn-next:hover {
            background: #3d9ae6;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }

        .result-box {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .result-box.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .recognized-text {
            font-size: 1.2em;
            color: #667eea;
            padding: 15px;
            background: white;
            border-radius: 8px;
            margin-bottom: 15px;
            min-height: 50px;
            border: 2px solid #667eea;
        }

        .feedback {
            padding: 15px;
            border-radius: 8px;
            font-size: 1em;
            line-height: 1.6;
        }

        .feedback.excellent {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .feedback.good {
            background: #d1ecf1;
            color: #0c5460;
            border: 2px solid #bee5eb;
        }

        .feedback.try-again {
            background: #fff3cd;
            color: #856404;
            border: 2px solid #ffeaa7;
        }

        .score {
            text-align: center;
            margin-top: 20px;
            font-size: 1.2em;
            color: #667eea;
            font-weight: bold;
        }

        .progress {
            background: #e9ecef;
            height: 8px;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            transition: width 0.3s;
            border-radius: 10px;
        }

        .hint {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 12px;
            margin-top: 15px;
            border-radius: 5px;
            font-size: 0.9em;
            color: #555;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        @media (max-width: 600px) {
            .container {
                padding: 25px;
            }

            h1 {
                font-size: 1.5em;
            }

            .quote-text {
                font-size: 1.1em;
            }

            .controls {
                flex-direction: column;
            }

            button {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¬ æ˜ ç”»ã‚»ãƒªãƒ•ã§è‹±èªç™ºéŸ³ç·´ç¿’</h1>
        <p class="subtitle">æœ‰åãªæ˜ ç”»ã®ã‚»ãƒªãƒ•ã‚’ä½¿ã£ã¦ã€æ¥½ã—ãè‹±èªã®ç™ºéŸ³ã‚’ç·´ç¿’ã—ã¾ã—ã‚‡ã†ï¼</p>

        <div class="progress">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="movie-card">
            <div class="movie-title">
                <span class="movie-icon" id="movieIcon">ğŸ¥</span>
                <span id="movieTitle"></span>
            </div>
            <div class="quote-text" id="quoteText"></div>
            <div class="translation" id="translation"></div>

            <div class="controls">
                <button class="btn-listen" id="listenBtn">
                    <span>ğŸ”Š</span>
                    <span>ãŠæ‰‹æœ¬ã‚’èã</span>
                </button>
                <button class="btn-record" id="recordBtn">
                    <span>ğŸ¤</span>
                    <span>éŒ²éŸ³ã—ã¦ç·´ç¿’</span>
                </button>
                <button class="btn-next" id="nextBtn">
                    <span>â¡ï¸</span>
                    <span>æ¬¡ã®ã‚»ãƒªãƒ•</span>
                </button>
            </div>

            <div class="hint">
                ğŸ’¡ <strong>ä½¿ã„æ–¹:</strong> ã¾ãšã€ŒãŠæ‰‹æœ¬ã‚’èãã€ã§ç™ºéŸ³ã‚’ç¢ºèªã—ã€ã€ŒéŒ²éŸ³ã—ã¦ç·´ç¿’ã€ã§è‡ªåˆ†ã®ç™ºéŸ³ã‚’è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚éŸ³å£°èªè­˜ãŒã‚ãªãŸã®ç™ºéŸ³ã‚’è©•ä¾¡ã—ã¾ã™ï¼
            </div>

            <div class="result-box" id="resultBox">
                <div class="result-title">ğŸ“Š ã‚ãªãŸã®ç™ºéŸ³:</div>
                <div class="recognized-text" id="recognizedText"></div>
                <div class="feedback" id="feedback"></div>
            </div>

            <div class="error-message" id="errorMessage"></div>
        </div>

        <div class="score" id="scoreDisplay">ç·´ç¿’ã—ãŸã‚»ãƒªãƒ•: 0</div>
    </div>

    <script>
        const movieQuotes = [
            {
                movie: "The Shawshank Redemption",
                icon: "â­",
                quote: "Get busy living, or get busy dying.",
                translation: "å¿™ã—ãç”Ÿãã‚‹ã‹ã€å¿™ã—ãæ­»ã¬ã‹ã ã€‚",
                character: "Andy Dufresne"
            },
            {
                movie: "The Shawshank Redemption",
                icon: "â­",
                quote: "Hope is a good thing, maybe the best of things.",
                translation: "å¸Œæœ›ã¯è‰¯ã„ã‚‚ã®ã ã€ãŠãã‚‰ãæœ€é«˜ã®ã‚‚ã®ã ã€‚",
                character: "Andy Dufresne"
            },
            {
                movie: "Forrest Gump",
                icon: "ğŸƒ",
                quote: "Life is like a box of chocolates.",
                translation: "äººç”Ÿã¯ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã®ç®±ã®ã‚ˆã†ãªã‚‚ã®ã ã€‚",
                character: "Forrest Gump"
            },
            {
                movie: "Forrest Gump",
                icon: "ğŸƒ",
                quote: "Stupid is as stupid does.",
                translation: "ãƒã‚«ãªã“ã¨ã‚’ã™ã‚‹ã®ãŒãƒã‚«ã ã€‚",
                character: "Forrest Gump"
            },
            {
                movie: "Forrest Gump",
                icon: "ğŸƒ",
                quote: "My mama always said life was like a box of chocolates.",
                translation: "æ¯ã•ã‚“ã¯ã„ã¤ã‚‚è¨€ã£ã¦ã„ãŸã€äººç”Ÿã¯ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã®ç®±ã®ã‚ˆã†ã ã¨ã€‚",
                character: "Forrest Gump"
            },
            {
                movie: "The Godfather",
                icon: "ğŸ‘”",
                quote: "I'm gonna make him an offer he can't refuse.",
                translation: "æ–­ã‚Œãªã„ç”³ã—å‡ºã‚’ã™ã‚‹ã¤ã‚‚ã‚Šã ã€‚",
                character: "Don Vito Corleone"
            },
            {
                movie: "The Godfather",
                icon: "ğŸ‘”",
                quote: "Keep your friends close, but your enemies closer.",
                translation: "å‹ã‚’è¿‘ãã«ã€æ•µã¯ã‚‚ã£ã¨è¿‘ãã«ç½®ã‘ã€‚",
                character: "Michael Corleone"
            },
            {
                movie: "Star Wars",
                icon: "âš”ï¸",
                quote: "May the Force be with you.",
                translation: "ãƒ•ã‚©ãƒ¼ã‚¹ã¨å…±ã«ã‚ã‚‰ã‚“ã“ã¨ã‚’ã€‚",
                character: "Multiple characters"
            },
            {
                movie: "Star Wars",
                icon: "âš”ï¸",
                quote: "I am your father.",
                translation: "ç§ãŒãŠå‰ã®çˆ¶ã ã€‚",
                character: "Darth Vader"
            },
            {
                movie: "Star Wars",
                icon: "âš”ï¸",
                quote: "Do or do not. There is no try.",
                translation: "ã‚„ã‚‹ã‹ã‚„ã‚‰ã¬ã‹ã ã€‚è©¦ã—ãªã©ãªã„ã€‚",
                character: "Yoda"
            },
            {
                movie: "The Terminator",
                icon: "ğŸ¤–",
                quote: "I'll be back.",
                translation: "ã¾ãŸæˆ»ã£ã¦ãã‚‹ã€‚",
                character: "The Terminator"
            },
            {
                movie: "Terminator 2",
                icon: "ğŸ¤–",
                quote: "Hasta la vista, baby.",
                translation: "åœ°ç„ã§ä¼šãŠã†ãœã€ãƒ™ã‚¤ãƒ“ãƒ¼ã€‚",
                character: "The Terminator"
            },
            {
                movie: "Jerry Maguire",
                icon: "ğŸ’¼",
                quote: "You complete me.",
                translation: "ã‚ãªãŸãŒç§ã‚’å®Œå…¨ã«ã—ã¦ãã‚Œã‚‹ã€‚",
                character: "Jerry Maguire"
            },
            {
                movie: "Jerry Maguire",
                icon: "ğŸ’¼",
                quote: "Show me the money!",
                translation: "é‡‘ã‚’è¦‹ã›ã‚!",
                character: "Rod Tidwell"
            },
            {
                movie: "Apollo 13",
                icon: "ğŸš€",
                quote: "Houston, we have a problem.",
                translation: "ãƒ’ãƒ¥ãƒ¼ã‚¹ãƒˆãƒ³ã€å•é¡ŒãŒç™ºç”Ÿã—ãŸã€‚",
                character: "Jim Lovell"
            },
            {
                movie: "The Wizard of Oz",
                icon: "ğŸŒˆ",
                quote: "There's no place like home.",
                translation: "æˆ‘ãŒå®¶ã«å‹ã‚‹å ´æ‰€ã¯ãªã„ã€‚",
                character: "Dorothy"
            },
            {
                movie: "The Wizard of Oz",
                icon: "ğŸŒˆ",
                quote: "Toto, I've a feeling we're not in Kansas anymore.",
                translation: "ãƒˆãƒˆã€ã‚‚ã†ã‚«ãƒ³ã‚¶ã‚¹ã«ã¯ã„ãªã„ã¿ãŸã„ã‚ˆã€‚",
                character: "Dorothy"
            },
            {
                movie: "Rocky",
                icon: "ğŸ¥Š",
                quote: "Yo, Adrian!",
                translation: "ã‚ˆã†ã€ã‚¨ã‚¤ãƒ‰ãƒªã‚¢ãƒ³!",
                character: "Rocky Balboa"
            },
            {
                movie: "Rocky",
                icon: "ğŸ¥Š",
                quote: "It ain't about how hard you hit.",
                translation: "ã©ã‚Œã ã‘å¼·ãæ‰“ã¤ã‹ã˜ã‚ƒãªã„ã€‚",
                character: "Rocky Balboa"
            },
            {
                movie: "Titanic",
                icon: "ğŸš¢",
                quote: "I'm the king of the world!",
                translation: "ä¿ºã¯ä¸–ç•Œã®ç‹ã !",
                character: "Jack Dawson"
            },
            {
                movie: "Titanic",
                icon: "ğŸš¢",
                quote: "You jump, I jump.",
                translation: "ã‚ãªãŸãŒé£›ã¶ãªã‚‰ã€ç§ã‚‚é£›ã¶ã€‚",
                character: "Jack Dawson"
            },
            {
                movie: "The Dark Knight",
                icon: "ğŸ¦‡",
                quote: "Why so serious?",
                translation: "ã©ã†ã—ã¦ãã‚“ãªã«çœŸé¢ç›®ãªã‚“ã ï¼Ÿ",
                character: "The Joker"
            },
            {
                movie: "The Dark Knight",
                icon: "ğŸ¦‡",
                quote: "I'm Batman.",
                translation: "ä¿ºã¯ãƒãƒƒãƒˆãƒãƒ³ã ã€‚",
                character: "Batman"
            },
            {
                movie: "The Matrix",
                icon: "ğŸ’Š",
                quote: "There is no spoon.",
                translation: "ã‚¹ãƒ—ãƒ¼ãƒ³ãªã©å­˜åœ¨ã—ãªã„ã€‚",
                character: "Spoon Boy"
            },
            {
                movie: "The Matrix",
                icon: "ğŸ’Š",
                quote: "I know kung fu.",
                translation: "ã‚«ãƒ³ãƒ•ãƒ¼ãŒã§ãã‚‹ãã€‚",
                character: "Neo"
            },
            {
                movie: "Toy Story",
                icon: "ğŸ¤ ",
                quote: "To infinity and beyond!",
                translation: "ç„¡é™ã®å½¼æ–¹ã¸ã€ã•ã‚è¡Œããï¼",
                character: "Buzz Lightyear"
            },
            {
                movie: "The Lion King",
                icon: "ğŸ¦",
                quote: "Hakuna Matata.",
                translation: "ãƒã‚¯ãƒŠãƒ»ãƒã‚¿ã‚¿ï¼ˆå¿ƒé…ãªã„ã•ï¼‰ã€‚",
                character: "Timon and Pumbaa"
            },
            {
                movie: "Finding Nemo",
                icon: "ğŸ ",
                quote: "Just keep swimming.",
                translation: "æ³³ãç¶šã‘ã‚‹ã®ã‚ˆã€‚",
                character: "Dory"
            },
            {
                movie: "Frozen",
                icon: "â„ï¸",
                quote: "Let it go.",
                translation: "ã‚ã‚Šã®ã¾ã¾ã§ã€‚",
                character: "Elsa"
            },
            {
                movie: "Cast Away",
                icon: "ğŸ",
                quote: "Wilson!",
                translation: "ã‚¦ã‚£ãƒ«ã‚½ãƒ³ï¼",
                character: "Chuck Noland"
            },
            {
                movie: "Jaws",
                icon: "ğŸ¦ˆ",
                quote: "You're gonna need a bigger boat.",
                translation: "ã‚‚ã£ã¨å¤§ããªèˆ¹ãŒå¿…è¦ã ãªã€‚",
                character: "Martin Brody"
            },
            {
                movie: "E.T.",
                icon: "ğŸ‘½",
                quote: "E.T. phone home.",
                translation: "E.T.ãŠã†ã¡ã«é›»è©±ã™ã‚‹ã€‚",
                character: "E.T."
            },
            {
                movie: "Top Gun",
                icon: "âœˆï¸",
                quote: "I feel the need, the need for speed.",
                translation: "æ„Ÿã˜ã‚‹ã‚“ã ã€ã‚¹ãƒ”ãƒ¼ãƒ‰ã¸ã®æ¬²æ±‚ã‚’ã€‚",
                character: "Maverick"
            },
            {
                movie: "A Few Good Men",
                icon: "âš–ï¸",
                quote: "You can't handle the truth!",
                translation: "ãŠå‰ã«çœŸå®Ÿã¯æ‰±ãˆãªã„ï¼",
                character: "Colonel Jessup"
            },
            {
                movie: "Casablanca",
                icon: "ğŸ©",
                quote: "Here's looking at you, kid.",
                translation: "å›ã®ç³ã«ä¹¾æ¯ã€‚",
                character: "Rick Blaine"
            },
            {
                movie: "Casablanca",
                icon: "ğŸ©",
                quote: "We'll always have Paris.",
                translation: "ãƒ‘ãƒªã§ã®æ€ã„å‡ºã¯æ°¸é ã ã€‚",
                character: "Rick Blaine"
            },
            {
                movie: "Gone with the Wind",
                icon: "ğŸŒªï¸",
                quote: "Frankly, my dear, I don't give a damn.",
                translation: "æ­£ç›´è¨€ã£ã¦ã€ã‚‚ã†ã©ã†ã§ã‚‚ã„ã„ã€‚",
                character: "Rhett Butler"
            },
            {
                movie: "The Sixth Sense",
                icon: "ğŸ‘»",
                quote: "I see dead people.",
                translation: "æ­»ã‚“ã äººãŒè¦‹ãˆã‚‹ã‚“ã ã€‚",
                character: "Cole Sear"
            },
            {
                movie: "Home Alone",
                icon: "ğŸ ",
                quote: "Keep the change, you filthy animal.",
                translation: "ãŠã¤ã‚Šã¯å–ã£ã¨ã‘ã€ã“ã®æ±šã„å‹•ç‰©ã‚ã€‚",
                character: "Gangster Johnny"
            },
            {
                movie: "Gladiator",
                icon: "âš”ï¸",
                quote: "My name is Maximus.",
                translation: "ç§ã®åå‰ã¯ãƒã‚­ã‚·ãƒã‚¹ã ã€‚",
                character: "Maximus"
            },
            {
                movie: "Braveheart",
                icon: "ğŸ—¡ï¸",
                quote: "Freedom!",
                translation: "è‡ªç”±ã ï¼",
                character: "William Wallace"
            },
            {
                movie: "The Princess Bride",
                icon: "ğŸ‘¸",
                quote: "My name is Inigo Montoya.",
                translation: "ç§ã®åå‰ã¯ã‚¤ãƒ‹ã‚´ãƒ»ãƒ¢ãƒ³ãƒˆãƒ¼ãƒ¤ã ã€‚",
                character: "Inigo Montoya"
            },
            {
                movie: "The Princess Bride",
                icon: "ğŸ‘¸",
                quote: "As you wish.",
                translation: "ãŠæœ›ã¿é€šã‚Šã«ã€‚",
                character: "Westley"
            },
            {
                movie: "Back to the Future",
                icon: "â°",
                quote: "Great Scott!",
                translation: "ãªã‚“ã¦ã“ã£ãŸï¼",
                character: "Doc Brown"
            },
            {
                movie: "Back to the Future",
                icon: "â°",
                quote: "Where we're going, we don't need roads.",
                translation: "ä¿ºãŸã¡ãŒè¡Œãå ´æ‰€ã«ã¯é“è·¯ã¯è¦ã‚‰ãªã„ã€‚",
                character: "Doc Brown"
            },
            {
                movie: "Fight Club",
                icon: "ğŸ¥Š",
                quote: "The first rule of Fight Club is you do not talk about Fight Club.",
                translation: "ãƒ•ã‚¡ã‚¤ãƒˆã‚¯ãƒ©ãƒ–ã®æœ€åˆã®ãƒ«ãƒ¼ãƒ«ã¯ã€ãƒ•ã‚¡ã‚¤ãƒˆã‚¯ãƒ©ãƒ–ã«ã¤ã„ã¦è©±ã•ãªã„ã“ã¨ã ã€‚",
                character: "Tyler Durden"
            },
            {
                movie: "The Silence of the Lambs",
                icon: "ğŸ¦‹",
                quote: "Hello, Clarice.",
                translation: "ã“ã‚“ã«ã¡ã¯ã€ã‚¯ãƒ©ãƒªã‚¹ã€‚",
                character: "Hannibal Lecter"
            },
            {
                movie: "The Breakfast Club",
                icon: "ğŸ“",
                quote: "We're all pretty bizarre.",
                translation: "ç§ãŸã¡ã¯ã¿ã‚“ãªã‹ãªã‚Šå¤‰ã‚ã£ã¦ã„ã‚‹ã€‚",
                character: "Allison"
            },
            {
                movie: "Harry Potter",
                icon: "âš¡",
                quote: "You're a wizard, Harry.",
                translation: "å›ã¯é­”æ³•ä½¿ã„ã ã€ãƒãƒªãƒ¼ã€‚",
                character: "Hagrid"
            },
            {
                movie: "Harry Potter",
                icon: "âš¡",
                quote: "Always.",
                translation: "ã„ã¤ã‚‚ã€‚",
                character: "Severus Snape"
            },
            {
                movie: "The Lord of the Rings",
                icon: "ğŸ’",
                quote: "One does not simply walk into Mordor.",
                translation: "ãƒ¢ãƒ«ãƒ‰ãƒ¼ãƒ«ã«ç°¡å˜ã«æ­©ã„ã¦å…¥ã‚Œã‚‹ã‚ã‘ãŒãªã„ã€‚",
                character: "Boromir"
            },
            {
                movie: "The Lord of the Rings",
                icon: "ğŸ’",
                quote: "My precious.",
                translation: "æˆ‘ãŒæ„›ã—ã„ã—ã¨ã€‚",
                character: "Gollum"
            },
            {
                movie: "The Lord of the Rings",
                icon: "ğŸ’",
                quote: "You shall not pass!",
                translation: "æ±ã€é€šã‚‹ã¹ã‹ã‚‰ãšï¼",
                character: "Gandalf"
            },
            {
                movie: "Inception",
                icon: "ğŸ’­",
                quote: "We need to go deeper.",
                translation: "ã‚‚ã£ã¨æ·±ãè¡Œã‹ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚",
                character: "Dom Cobb"
            },
            {
                movie: "Pulp Fiction",
                icon: "ğŸ’¼",
                quote: "Say what again!",
                translation: "ã‚‚ã†ä¸€åº¦è¨€ã£ã¦ã¿ã‚ï¼",
                character: "Jules Winnfield"
            },
            {
                movie: "The Social Network",
                icon: "ğŸ’»",
                quote: "A million dollars isn't cool.",
                translation: "100ä¸‡ãƒ‰ãƒ«ã¯ã‚¯ãƒ¼ãƒ«ã˜ã‚ƒãªã„ã€‚",
                character: "Sean Parker"
            },
            {
                movie: "Juno",
                icon: "ğŸ¤°",
                quote: "Honest to blog?",
                translation: "ãƒ–ãƒ­ã‚°ã«èª“ã£ã¦æœ¬å½“ï¼Ÿ",
                character: "Juno"
            },
            {
                movie: "Mean Girls",
                icon: "ğŸ‘§",
                quote: "On Wednesdays we wear pink.",
                translation: "æ°´æ›œæ—¥ã¯ãƒ”ãƒ³ã‚¯ã‚’ç€ã‚‹ã€‚",
                character: "Karen"
            },
            {
                movie: "Clueless",
                icon: "ğŸ’„",
                quote: "As if!",
                translation: "ã‚ã‚Šãˆãªã„ï¼",
                character: "Cher"
            },
            {
                movie: "Notting Hill",
                icon: "ğŸ’",
                quote: "I'm just a girl, standing in front of a boy.",
                translation: "ç§ã¯ãŸã ã®å¥³ã®å­ã€ç”·ã®å­ã®å‰ã«ç«‹ã£ã¦ã„ã‚‹ã€‚",
                character: "Anna Scott"
            },
            {
                movie: "Love Actually",
                icon: "â¤ï¸",
                quote: "To me, you are perfect.",
                translation: "åƒ•ã«ã¨ã£ã¦ã€å›ã¯å®Œç’§ã ã€‚",
                character: "Mark"
            },
            {
                movie: "The Notebook",
                icon: "ğŸ““",
                quote: "If you're a bird, I'm a bird.",
                translation: "å›ãŒé³¥ãªã‚‰ã€åƒ•ã‚‚é³¥ã ã€‚",
                character: "Noah"
            },
            {
                movie: "When Harry Met Sally",
                icon: "ğŸ½ï¸",
                quote: "I'll have what she's having.",
                translation: "å½¼å¥³ã¨åŒã˜ã‚‚ã®ã‚’é ‚æˆ´ã€‚",
                character: "Customer"
            },
            {
                movie: "Pretty Woman",
                icon: "ğŸ‘—",
                quote: "Big mistake. Big. Huge.",
                translation: "å¤§ããªé–“é•ã„ã‚ˆã€‚å¤§ããªã€‚å·¨å¤§ãªã€‚",
                character: "Vivian"
            },
            {
                movie: "Dirty Dancing",
                icon: "ğŸ’ƒ",
                quote: "Nobody puts Baby in a corner.",
                translation: "èª°ã‚‚ãƒ™ã‚¤ãƒ“ãƒ¼ã‚’éš…ã«è¿½ã„ã‚„ã£ãŸã‚Šã—ãªã„ã€‚",
                character: "Johnny"
            },
            {
                movie: "The Devil Wears Prada",
                icon: "ğŸ‘ ",
                quote: "That's all.",
                translation: "ä»¥ä¸Šã‚ˆã€‚",
                character: "Miranda Priestly"
            },
            {
                movie: "Legally Blonde",
                icon: "ğŸ’…",
                quote: "What, like it's hard?",
                translation: "ä½•ã‚ˆã€é›£ã—ã„ã¨ã§ã‚‚ï¼Ÿ",
                character: "Elle Woods"
            },
            {
                movie: "The Pursuit of Happyness",
                icon: "ğŸ¯",
                quote: "Don't ever let somebody tell you you can't do something.",
                translation: "èª°ã«ã‚‚å›ã¯ã§ããªã„ãªã‚“ã¦è¨€ã‚ã›ã‚‹ãªã€‚",
                character: "Chris Gardner"
            },
            {
                movie: "Good Will Hunting",
                icon: "ğŸ§®",
                quote: "It's not your fault.",
                translation: "å›ã®ã›ã„ã˜ã‚ƒãªã„ã€‚",
                character: "Sean Maguire"
            },
            {
                movie: "Dead Poets Society",
                icon: "ğŸ“š",
                quote: "Carpe diem. Seize the day.",
                translation: "ã‚«ãƒ«ãƒšãƒ»ãƒ‡ã‚£ã‚¨ãƒ ã€‚ä»Šã‚’ç”Ÿãã‚ã€‚",
                character: "John Keating"
            },
            {
                movie: "The Truman Show",
                icon: "ğŸ“º",
                quote: "Good morning, and in case I don't see you, good afternoon, good evening, and good night.",
                translation: "ãŠã¯ã‚ˆã†ã€ä¼šãˆãªã„å ´åˆã«å‚™ãˆã¦ã€ã“ã‚“ã«ã¡ã¯ã€ã“ã‚“ã°ã‚“ã¯ã€ãŠã‚„ã™ã¿ã€‚",
                character: "Truman Burbank"
            },
            {
                movie: "A Beautiful Mind",
                icon: "ğŸ§ ",
                quote: "I need to believe that something extraordinary is possible.",
                translation: "ä½•ã‹ç‰¹åˆ¥ãªã“ã¨ãŒå¯èƒ½ã ã¨ä¿¡ã˜ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚",
                character: "John Nash"
            },
            {
                movie: "The Green Mile",
                icon: "ğŸ•Šï¸",
                quote: "I'm tired, boss.",
                translation: "ç–²ã‚ŒãŸã‚ˆã€ãƒœã‚¹ã€‚",
                character: "John Coffey"
            },
            {
                movie: "Saving Private Ryan",
                icon: "ğŸ–ï¸",
                quote: "Earn this.",
                translation: "ã“ã‚Œã«å€¤ã™ã‚‹äººé–“ã«ãªã‚Œã€‚",
                character: "Captain Miller"
            },
            {
                movie: "Schindler's List",
                icon: "ğŸ•¯ï¸",
                quote: "Whoever saves one life, saves the world entire.",
                translation: "ä¸€äººã®å‘½ã‚’æ•‘ã†è€…ã¯ã€å…¨ä¸–ç•Œã‚’æ•‘ã†ã€‚",
                character: "Itzhak Stern"
            },
            {
                movie: "The Avengers",
                icon: "ğŸ¦¸",
                quote: "I am Iron Man.",
                translation: "ç§ãŒã‚¢ã‚¤ã‚¢ãƒ³ãƒãƒ³ã ã€‚",
                character: "Tony Stark"
            },
            {
                movie: "The Avengers",
                icon: "ğŸ¦¸",
                quote: "Hulk smash!",
                translation: "ãƒãƒ«ã‚¯ ã‚¹ãƒãƒƒã‚·ãƒ¥ï¼",
                character: "Hulk"
            },
            {
                movie: "Black Panther",
                icon: "ğŸ†",
                quote: "Wakanda forever!",
                translation: "ãƒ¯ã‚«ãƒ³ãƒ€ã‚ˆæ°¸é ã«ï¼",
                character: "T'Challa"
            },
            {
                movie: "Guardians of the Galaxy",
                icon: "ğŸš€",
                quote: "I am Groot.",
                translation: "ç§ã¯ã‚°ãƒ«ãƒ¼ãƒˆã€‚",
                character: "Groot"
            },
            {
                movie: "Spider-Man",
                icon: "ğŸ•·ï¸",
                quote: "With great power comes great responsibility.",
                translation: "å¤§ã„ãªã‚‹åŠ›ã«ã¯ã€å¤§ã„ãªã‚‹è²¬ä»»ãŒä¼´ã†ã€‚",
                character: "Uncle Ben"
            },
            {
                movie: "The Hunger Games",
                icon: "ğŸ¹",
                quote: "May the odds be ever in your favor.",
                translation: "å¹¸é‹ã‚’ç¥ˆã‚Šã¾ã™ã€‚",
                character: "Effie Trinket"
            },
            {
                movie: "Jurassic Park",
                icon: "ğŸ¦–",
                quote: "Life finds a way.",
                translation: "ç”Ÿå‘½ã¯é“ã‚’è¦‹ã¤ã‘ã‚‹ã€‚",
                character: "Ian Malcolm"
            },
            {
                movie: "Independence Day",
                icon: "ğŸ›¸",
                quote: "Welcome to Earth!",
                translation: "åœ°çƒã¸ã‚ˆã†ã“ãï¼",
                character: "Captain Steven Hiller"
            },
            {
                movie: "Die Hard",
                icon: "ğŸ’¥",
                quote: "Yippee-ki-yay!",
                translation: "ã‚¤ãƒƒãƒ”ãƒ¼ãƒ»ã‚«ã‚¤ãƒ»ã‚¨ã‚¤ï¼",
                character: "John McClane"
            },
            {
                movie: "The Shining",
                icon: "ğŸª“",
                quote: "Here's Johnny!",
                translation: "ã‚¸ãƒ§ãƒ‹ãƒ¼ã ãï¼",
                character: "Jack Torrance"
            },
            {
                movie: "Psycho",
                icon: "ğŸš¿",
                quote: "A boy's best friend is his mother.",
                translation: "å°‘å¹´ã®æœ€è‰¯ã®å‹ã¯æ¯è¦ªã ã€‚",
                character: "Norman Bates"
            },
            {
                movie: "The Exorcist",
                icon: "ğŸ˜ˆ",
                quote: "The power of Christ compels you!",
                translation: "ã‚­ãƒªã‚¹ãƒˆã®åŠ›ãŒå‘½ã˜ã‚‹ï¼",
                character: "Father Merrin"
            },
            {
                movie: "Ghostbusters",
                icon: "ğŸ‘»",
                quote: "Who you gonna call? Ghostbusters!",
                translation: "èª°ã‚’å‘¼ã¶ï¼Ÿã‚´ãƒ¼ã‚¹ãƒˆãƒã‚¹ã‚¿ãƒ¼ã‚ºï¼",
                character: "Ray Parker Jr."
            },
            {
                movie: "Austin Powers",
                icon: "ğŸ•¶ï¸",
                quote: "Yeah, baby!",
                translation: "ã‚¤ã‚¨ãƒ¼ã€ãƒ™ã‚¤ãƒ“ãƒ¼ï¼",
                character: "Austin Powers"
            },
            {
                movie: "Zoolander",
                icon: "ğŸ“¸",
                quote: "Really, really ridiculously good looking.",
                translation: "æœ¬å½“ã«ã€æœ¬å½“ã«ã€ãƒã‚«ãƒã‚«ã—ã„ã»ã©ã‚¤ã‚±ãƒ¡ãƒ³ã€‚",
                character: "Derek Zoolander"
            },
            {
                movie: "Anchorman",
                icon: "ğŸ“°",
                quote: "I love lamp.",
                translation: "ãƒ©ãƒ³ãƒ—ãŒå¥½ãã ã€‚",
                character: "Brick Tamland"
            },
            {
                movie: "Elf",
                icon: "ğŸ…",
                quote: "The best way to spread Christmas cheer is singing loud for all to hear.",
                translation: "ã‚¯ãƒªã‚¹ãƒã‚¹ã®å–œã³ã‚’åºƒã‚ã‚‹æœ€è‰¯ã®æ–¹æ³•ã¯ã€ã¿ã‚“ãªã«èã“ãˆã‚‹ã‚ˆã†å¤§å£°ã§æ­Œã†ã“ã¨ã€‚",
                character: "Buddy"
            },
            {
                movie: "Mrs. Doubtfire",
                icon: "ğŸ‘µ",
                quote: "It was a run-by fruiting!",
                translation: "ãƒ•ãƒ«ãƒ¼ãƒ„ã®è¥²æ’ƒã ã£ãŸï¼",
                character: "Mrs. Doubtfire"
            },
            {
                movie: "The Big Lebowski",
                icon: "ğŸ³",
                quote: "The Dude abides.",
                translation: "ãƒ‡ãƒ¥ãƒ¼ãƒ‰ã¯è€ãˆã‚‹ã€‚",
                character: "The Dude"
            },
            {
                movie: "Scarface",
                icon: "ğŸ’°",
                quote: "Say hello to my little friend!",
                translation: "ä¿ºã®å°ã•ãªå‹é”ã«æŒ¨æ‹¶ã—ã‚ï¼",
                character: "Tony Montana"
            },
            {
                movie: "Taxi Driver",
                icon: "ğŸš•",
                quote: "You talkin' to me?",
                translation: "ä¿ºã«è¨€ã£ã¦ã‚‹ã®ã‹ï¼Ÿ",
                character: "Travis Bickle"
            },
            {
                movie: "The Graduate",
                icon: "ğŸ“",
                quote: "Mrs. Robinson, you're trying to seduce me.",
                translation: "ãƒ­ãƒ“ãƒ³ã‚½ãƒ³å¤«äººã€åƒ•ã‚’èª˜æƒ‘ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã‚“ã§ã™ã­ã€‚",
                character: "Benjamin Braddock"
            },
            {
                movie: "Cool Hand Luke",
                icon: "â›“ï¸",
                quote: "What we've got here is failure to communicate.",
                translation: "ã“ã“ã«ã‚ã‚‹ã®ã¯ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å¤±æ•—ã ã€‚",
                character: "Captain"
            },
            {
                movie: "Wall Street",
                icon: "ğŸ’¼",
                quote: "Greed is good.",
                translation: "å¼·æ¬²ã¯å–„ã ã€‚",
                character: "Gordon Gekko"
            },
            {
                movie: "Field of Dreams",
                icon: "âš¾",
                quote: "If you build it, he will come.",
                translation: "ä½œã‚Œã°ã€å½¼ãŒæ¥ã‚‹ã€‚",
                character: "Voice"
            },
            {
                movie: "Jerry Maguire",
                icon: "ğŸ’¼",
                quote: "You had me at hello.",
                translation: "æœ€åˆã®æŒ¨æ‹¶ã§å¿ƒã‚’æ´ã¾ã‚ŒãŸã‚ã€‚",
                character: "Dorothy Boyd"
            },
            {
                movie: "Interstellar",
                icon: "ğŸŒŒ",
                quote: "Do not go gentle into that good night.",
                translation: "ç©ã‚„ã‹ã«ãã®è‰¯ãå¤œã«å…¥ã‚‹ãªã€‚",
                character: "Dylan Thomas poem"
            },
            {
                movie: "Gravity",
                icon: "ğŸ›°ï¸",
                quote: "I'm gonna get out of this.",
                translation: "ã“ã“ã‹ã‚‰æŠœã‘å‡ºã™ã€‚",
                character: "Dr. Ryan Stone"
            },
            {
                movie: "Avatar",
                icon: "ğŸŒ¿",
                quote: "I see you.",
                translation: "ã‚ãªãŸãŒè¦‹ãˆã‚‹ã€‚",
                character: "Jake Sully"
            },
            {
                movie: "Frozen",
                icon: "â„ï¸",
                quote: "Some people are worth melting for.",
                translation: "æº¶ã‘ã¦ã—ã¾ã†ä¾¡å€¤ãŒã‚ã‚‹äººã‚‚ã„ã‚‹ã€‚",
                character: "Olaf"
            },
            {
                movie: "Up",
                icon: "ğŸˆ",
                quote: "Adventure is out there!",
                translation: "å†’é™ºã¯ãã“ã«ã‚ã‚‹ï¼",
                character: "Charles Muntz"
            }
        ];

        let currentQuoteIndex = 0;
        let practiceCount = 0;
        let recognition;
        let isRecording = false;

        // éŸ³å£°èªè­˜ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            recognition.lang = 'en-US';
            recognition.continuous = false;
            recognition.interimResults = false;
        }

        function loadQuote() {
            const quote = movieQuotes[currentQuoteIndex];
            document.getElementById('movieIcon').textContent = quote.icon;
            document.getElementById('movieTitle').textContent = quote.movie;
            document.getElementById('quoteText').textContent = quote.quote;
            document.getElementById('translation').textContent = `ğŸ‡¯ğŸ‡µ ${quote.translation}`;
            document.getElementById('resultBox').classList.remove('show');
            
            const progress = ((currentQuoteIndex + 1) / movieQuotes.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function speakText(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US';
            utterance.rate = 0.9;
            speechSynthesis.speak(utterance);
        }

        function calculateSimilarity(str1, str2) {
            const s1 = str1.toLowerCase().replace(/[^\w\s]/g, '');
            const s2 = str2.toLowerCase().replace(/[^\w\s]/g, '');
            
            const words1 = s1.split(/\s+/);
            const words2 = s2.split(/\s+/);
            
            let matches = 0;
            words1.forEach(word => {
                if (words2.includes(word)) matches++;
            });
            
            return matches / Math.max(words1.length, words2.length);
        }

        function showFeedback(recognized, original) {
            const resultBox = document.getElementById('resultBox');
            const recognizedText = document.getElementById('recognizedText');
            const feedback = document.getElementById('feedback');
            
            recognizedText.textContent = recognized || '(èªè­˜ã§ãã¾ã›ã‚“ã§ã—ãŸ)';
            resultBox.classList.add('show');
            
            const similarity = calculateSimilarity(recognized, original);
            
            feedback.className = 'feedback';
            
            if (similarity > 0.8) {
                feedback.classList.add('excellent');
                feedback.innerHTML = 'ğŸ‰ <strong>ç´ æ™´ã‚‰ã—ã„!</strong><br>å®Œç’§ãªç™ºéŸ³ã§ã™ã€‚ã“ã®èª¿å­ã§é ‘å¼µã‚Šã¾ã—ã‚‡ã†!';
            } else if (similarity > 0.5) {
                feedback.classList.add('good');
                feedback.innerHTML = 'ğŸ‘ <strong>è‰¯ã„ã§ã™ã­!</strong><br>ã‚‚ã†å°‘ã—ç·´ç¿’ã™ã‚Œã°å®Œç’§ã§ã™ã€‚ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã—ã¦ã¿ã¾ã—ã‚‡ã†!';
            } else {
                feedback.classList.add('try-again');
                feedback.innerHTML = 'ğŸ’ª <strong>ã‚‚ã†ä¸€åº¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸!</strong><br>ãŠæ‰‹æœ¬ã‚’ã‚ˆãèã„ã¦ã€ã‚†ã£ãã‚Šç™ºéŸ³ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚';
            }
        }

        function showError(message) {
            const errorElement = document.getElementById('errorMessage');
            errorElement.textContent = message;
            errorElement.classList.add('show');
            setTimeout(() => {
                errorElement.classList.remove('show');
            }, 4000);
        }

        document.getElementById('listenBtn').addEventListener('click', () => {
            const quote = movieQuotes[currentQuoteIndex];
            speakText(quote.quote);
        });

        document.getElementById('recordBtn').addEventListener('click', () => {
            if (!recognition) {
                showError('âŒ ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°èªè­˜ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚Chromeã€Edgeã€Safariã‚’ãŠè©¦ã—ãã ã•ã„ã€‚');
                return;
            }

            const recordBtn = document.getElementById('recordBtn');
            
            if (!isRecording) {
                isRecording = true;
                recordBtn.classList.add('recording');
                recordBtn.innerHTML = '<span>â¹ï¸</span><span>åœæ­¢</span>';
                
                recognition.start();
                
                recognition.onresult = (event) => {
                    const recognized = event.results[0][0].transcript;
                    const original = movieQuotes[currentQuoteIndex].quote;
                    showFeedback(recognized, original);
                    practiceCount++;
                    document.getElementById('scoreDisplay').textContent = `ç·´ç¿’ã—ãŸã‚»ãƒªãƒ•: ${practiceCount}`;
                };
                
                recognition.onerror = (event) => {
                    console.error('Recognition error:', event.error);
                    if (event.error === 'no-speech') {
                        showError('âš ï¸ éŸ³å£°ãŒæ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ãƒã‚¤ã‚¯ã«å‘ã‹ã£ã¦è©±ã—ã¦ãã ã•ã„ã€‚');
                    } else if (event.error === 'not-allowed') {
                        showError('âŒ ãƒã‚¤ã‚¯ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒæ‹’å¦ã•ã‚Œã¾ã—ãŸã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
                    } else {
                        showError('âŒ éŸ³å£°èªè­˜ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
                    }
                    isRecording = false;
                    recordBtn.classList.remove('recording');
                    recordBtn.innerHTML = '<span>ğŸ¤</span><span>éŒ²éŸ³ã—ã¦ç·´ç¿’</span>';
                };
                
                recognition.onend = () => {
                    isRecording = false;
                    recordBtn.classList.remove('recording');
                    recordBtn.innerHTML = '<span>ğŸ¤</span><span>éŒ²éŸ³ã—ã¦ç·´ç¿’</span>';
                };
            } else {
                recognition.stop();
            }
        });

        document.getElementById('nextBtn').addEventListener('click', () => {
            currentQuoteIndex = (currentQuoteIndex + 1) % movieQuotes.length;
            loadQuote();
        });

        // åˆæœŸåŒ–
        loadQuote();
    </script>
</body>
</html>